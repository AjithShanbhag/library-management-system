<div class="book-details-wrapper">
    <section class="book-details-header">
        <img class="img-link cropped book-thumbnail"
            onerror="this.onerror=null; this.src='http://lgimages.s3.amazonaws.com/gc-md.gif'" mat-card-image
            [src]="book.cover" [alt]="book.title" />

        <div class="book-header-details">
            <h2 class="book-title">{{ book.title }}</h2>
            <h3 class="book-authors">{{ book.authors }}</h3>
        </div>
    </section>

    <mat-card class="book-details-content">
        <mat-card-content class="book-card-content">
            <div *ngIf="book.synopsis" class="book-synopsis">
                <h3>Description</h3>
                <p>{{ book.synopsis }}</p>
            </div>

            <div class="book-additional-details">
                <div *ngIf="book.genres">
                    <h3>Genres</h3>
                    <p>{{ book.genres }}</p>
                </div>
                <div *ngIf="book.year">
                    <h3>Year</h3>
                    <p>{{ book.year }}</p>
                </div>
                <div *ngIf="book.language">
                    <h3>Language</h3>
                    <p>{{ book.language }}</p>
                </div>
                <div *ngIf="book.publisher">
                    <h3>Publisher</h3>
                    <p>{{ book.publisher }}</p>
                </div>
            </div>
        </mat-card-content>

        <mat-card-footer>
            <p *ngIf="reservation; else reserveBlock">
                <lms-count-down [endDate]="reservation.expirationDate"></lms-count-down>
            </p>

            <ng-template #reserveBlock>
                {{ book.available }} available copies
                <mat-card-actions>
                    <button mat-raised-button color="primary" (click)="reserve()" [disabled]="!book.available">Reserve</button>
                </mat-card-actions>
            </ng-template>
        </mat-card-footer>
    </mat-card>
</div>